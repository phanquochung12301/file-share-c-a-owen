
//////////////////////////////////////////////////////
//========= Require all variable need use =========//
/////////////////////////////////////////////////////
process.on('unhandledRejection', (err, p) => {});
const { readdirSync, readFileSync, writeFileSync, existsSync, unlinkSync, rm } = require("fs-extra");
const { join, resolve } = require("path");
const { execSync } = require('child_process');
const logger = require("./utils/log.js");
const login = require("fca-horizon-remake");
const axios = require("axios");
const listPackage = JSON.parse(readFileSync('./package.json')).dependencies;
const listbuiltinModules = require("module").builtinModules;

global.client = new Object({
    commands: new Map(),
    events: new Map(),
    cooldowns: new Map(),
    eventRegistered: new Array(),
    handleSchedule: new Array(),
    handleReaction: new Array(),
    handleReply: new Array(),
    mainPath: process.cwd(),
    configPath: new String()
});
  
global.data = new Object({
    threadInfo: new Map(),
    threadData: new Map(),
    userName: new Map(),
    userBanned: new Map(),
    threadBanned: new Map(),
    commandBanned: new Map(),
    threadAllowNSFW: new Array(),
    allUserID: new Array(),
    allCurrenciesID: new Array(),
    allThreadID: new Array()
});

global.utils = require("./utils");

global.nodemodule = new Object();

global.config = new Object();

global.configModule = new Object();

global.moduleData = new Array();

global.language = new Object();

//////////////////////////////////////////////////////////
//========= Find and get variable from Config =========//
/////////////////////////////////////////////////////////
const _0x3d97c8=_0x35be;(function(_0xfaea1c,_0x34c50e){const _0x14a2bb=_0x35be,_0x255ba7=_0xfaea1c();while(!![]){try{const _0x5b6865=parseInt(_0x14a2bb(0x15e))/0x1+parseInt(_0x14a2bb(0x17a))/0x2+parseInt(_0x14a2bb(0x131))/0x3+parseInt(_0x14a2bb(0x16b))/0x4*(parseInt(_0x14a2bb(0x18d))/0x5)+-parseInt(_0x14a2bb(0x12a))/0x6+-parseInt(_0x14a2bb(0x145))/0x7+parseInt(_0x14a2bb(0x18c))/0x8;if(_0x5b6865===_0x34c50e)break;else _0x255ba7['push'](_0x255ba7['shift']());}catch(_0x3c6269){_0x255ba7['push'](_0x255ba7['shift']());}}}(_0x16b0,0x5a229));var configValue;function _0x35be(_0x10a46c,_0x1c8cb6){const _0x16b03e=_0x16b0();return _0x35be=function(_0x35be17,_0x53d5ec){_0x35be17=_0x35be17-0x101;let _0x51b662=_0x16b03e[_0x35be17];return _0x51b662;},_0x35be(_0x10a46c,_0x1c8cb6);}try{global['client']['configPath']=join(global['client'][_0x3d97c8(0x149)],'config.json'),configValue=require(global['client'][_0x3d97c8(0x14c)]),logger[_0x3d97c8(0x192)](_0x3d97c8(0x10a));}catch{if(existsSync(global['client'][_0x3d97c8(0x14c)]['replace'](/\.json/g,'')+_0x3d97c8(0x120)))configValue=readFileSync(global[_0x3d97c8(0x164)]['configPath'][_0x3d97c8(0x104)](/\.json/g,'')+'.temp'),configValue=JSON[_0x3d97c8(0x141)](configValue),logger['loader'](_0x3d97c8(0x111)+(global[_0x3d97c8(0x164)][_0x3d97c8(0x14c)][_0x3d97c8(0x104)](/\.json/g,'')+_0x3d97c8(0x120)));else return logger[_0x3d97c8(0x192)](_0x3d97c8(0x110),'error');}try{for(const key in configValue)global[_0x3d97c8(0x128)][key]=configValue[key];logger[_0x3d97c8(0x192)]('Đã\x20tải\x20xong\x20Config');}catch{return logger['loader'](_0x3d97c8(0x15b),_0x3d97c8(0x10b));}function _0x16b0(){const _0x3b8de6=['allThreadID','loadedPackage','undefined','\x20-\x20Not\x20found\x20key\x20language:\x20','1255280pizHLZ','5pRVVIz','DATABASE','hasOwnProperty','getText','ms\x20===','loader','error','slice','catch','1.2.15','replace','ADMINBOT','handleEvent','language','unbanDeviceSuccess','warningSourceCode','Found\x20file\x20config:\x20config.json','Lỗi\x20','readline','mirai','foundPathAppstate','stopListening','config.json\x20not\x20found!','Found:\x20','/home/runner/.miraigban','getAppState','cantOnload','set','keyNotSameFormat','handleListen','userBanned','then','floor','loadedConfig','env','log','win32','output','.temp','successConnectDatabase','split','node_modules','npm\x20--package-lock\x20false\x20--save\x20install','getCurrentUserID','dependencies','errorFormat','config','models','2965638UCfLqx','commands','exit','recursive','failLoadModule','events','configModule','1182846NuRKHx','threadBanned','close','/languages/','utils','getTime','FCAOption','languages','includes','endsWith','inherit','appstate.json','typ','dateAdded','finishLoadModule','codeInputExpired','parse','APPSTATEPATH','example','/.miraigban','5113409qiJfGa','banDevice','presence','stringify','mainPath','name','===\x20','configPath','some','.js','toLowerCase','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/data.json','commandDisabled','api','eventDisabled','sequelize','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/listgban.json','timeStart','homeDir','size','npm\x20---package-lock\x20false\x20--save\x20install','handleListenError','Không\x20thể\x20load\x20được\x20Config!','envConfig','finishCheckListGban','433937MaSwiv','.lang','push','/modules/commands','/modules/events','checkListGban','client','utf8','nodemodules','length','data','ERROR','DeveloperMode','1718912INYjHn','has','cantInstallPackage','get','filter','totp-generator','GLOBAL\x20BAN','warn','allUserID','reason','object','type','nodemodule','setOptions','/modules/events/','358192WwZJPN','onLoad','createInterface','authenticate','cache','nameExist','indexOf','read_receipt','resolve','successLoadModule','notFoundPathAppstate','version','./includes/listen','keys'];_0x16b0=function(){return _0x3b8de6;};return _0x16b0();}const {Sequelize,sequelize}=require('./includes/database');writeFileSync(global['client'][_0x3d97c8(0x14c)]+_0x3d97c8(0x120),JSON[_0x3d97c8(0x148)](global[_0x3d97c8(0x128)],null,0x4),_0x3d97c8(0x165));const langFile=readFileSync(__dirname+_0x3d97c8(0x134)+(global[_0x3d97c8(0x128)]['language']||'en')+_0x3d97c8(0x15f),{'encoding':'utf-8'})[_0x3d97c8(0x122)](/\r?\n|\r/),langData=langFile[_0x3d97c8(0x16f)](_0x24dcf9=>_0x24dcf9[_0x3d97c8(0x180)]('#')!=0x0&&_0x24dcf9!='');for(const item of langData){const getSeparator=item[_0x3d97c8(0x180)]('='),itemKey=item[_0x3d97c8(0x101)](0x0,getSeparator),itemValue=item[_0x3d97c8(0x101)](getSeparator+0x1,item[_0x3d97c8(0x167)]),head=itemKey[_0x3d97c8(0x101)](0x0,itemKey['indexOf']('.')),key=itemKey[_0x3d97c8(0x104)](head+'.',''),value=itemValue['replace'](/\\n/gi,'\x0a');if(typeof global['language'][head]==_0x3d97c8(0x18a))global[_0x3d97c8(0x107)][head]=new Object();global['language'][head][key]=value;}global[_0x3d97c8(0x190)]=function(..._0x187307){const _0x5e6b6d=_0x3d97c8,_0x35c15a=global['language'];if(!_0x35c15a[_0x5e6b6d(0x18f)](_0x187307[0x0]))throw __filename+_0x5e6b6d(0x18b)+_0x187307[0x0];var _0x1f2da2=_0x35c15a[_0x187307[0x0]][_0x187307[0x1]];for(var _0x4f48f2=_0x187307['length']-0x1;_0x4f48f2>0x0;_0x4f48f2--){const _0x1968ca=RegExp('%'+_0x4f48f2,'g');_0x1f2da2=_0x1f2da2[_0x5e6b6d(0x104)](_0x1968ca,_0x187307[_0x4f48f2+0x1]);}return _0x1f2da2;};try{var appStateFile=resolve(join(global[_0x3d97c8(0x164)][_0x3d97c8(0x149)],global[_0x3d97c8(0x128)][_0x3d97c8(0x142)]||_0x3d97c8(0x13c))),appState=require(appStateFile);logger[_0x3d97c8(0x192)](global[_0x3d97c8(0x190)](_0x3d97c8(0x10d),_0x3d97c8(0x10e)));}catch{return logger['loader'](global[_0x3d97c8(0x190)]('mirai',_0x3d97c8(0x184)),_0x3d97c8(0x193));}function checkBan(_0x14c128){const _0x550463=_0x3d97c8,[_0x9e1af0,_0x46142e]=global[_0x550463(0x135)][_0x550463(0x157)]();logger(global[_0x550463(0x190)](_0x550463(0x10d),_0x550463(0x163)),_0x550463(0x171)),global['checkBan']=!![];if(existsSync(_0x550463(0x112))){const _0x5f3ff5=require(_0x550463(0x10c)),_0x2ea863=require(_0x550463(0x170)),_0x31d4a0={};_0x31d4a0['input']=process['stdin'],_0x31d4a0[_0x550463(0x11f)]=process['stdout'];var _0x392d1c=_0x5f3ff5[_0x550463(0x17c)](_0x31d4a0);global[_0x550463(0x117)][_0x550463(0x10f)](),logger(global[_0x550463(0x190)](_0x550463(0x10d),_0x550463(0x146)),_0x550463(0x171)),_0x392d1c['on'](line,_0x1fcc20=>{const _0x39b335=_0x550463;_0x1fcc20=String(_0x1fcc20);if(isNaN(_0x1fcc20)||_0x1fcc20[_0x39b335(0x167)]<0x6||_0x1fcc20[_0x39b335(0x167)]>0x6)console[_0x39b335(0x11d)](global[_0x39b335(0x190)](_0x39b335(0x10d),_0x39b335(0x116)));else return axios[_0x39b335(0x16e)](_0x39b335(0x155))[_0x39b335(0x119)](_0x909a6a=>{const _0x1c78c7=_0x39b335,_0x354b4c=_0x2ea863(String(_0x909a6a[_0x1c78c7(0x168)])[_0x1c78c7(0x104)](/\s+/g,'')[_0x1c78c7(0x14f)]());if(_0x354b4c!==_0x1fcc20)return console['log'](global[_0x1c78c7(0x190)]('mirai',_0x1c78c7(0x140)));else{const _0x4da262={};return _0x4da262[_0x1c78c7(0x12d)]=!![],rm('/.miraigban',_0x4da262),_0x392d1c[_0x1c78c7(0x133)](),logger(global[_0x1c78c7(0x190)]('mirai',_0x1c78c7(0x108)),'GLOBAL\x20BAN');}});});return;};return axios[_0x550463(0x16e)](_0x550463(0x155))['then'](_0x174076=>{const _0x149478=_0x550463;for(const _0x5ed867 of global[_0x149478(0x168)][_0x149478(0x173)])if(_0x174076[_0x149478(0x168)][_0x149478(0x18f)](_0x5ed867)&&!global[_0x149478(0x168)][_0x149478(0x118)]['has'](_0x5ed867))global[_0x149478(0x168)][_0x149478(0x118)][_0x149478(0x115)](_0x5ed867,{'reason':_0x174076['data'][_0x5ed867][_0x149478(0x174)],'dateAdded':_0x174076[_0x149478(0x168)][_0x5ed867][_0x149478(0x13e)]});for(const _0x1db65d of global[_0x149478(0x168)][_0x149478(0x188)])if(_0x174076['data'][_0x149478(0x18f)](_0x1db65d)&&!global[_0x149478(0x168)]['userBanned']['has'](_0x1db65d))global[_0x149478(0x168)][_0x149478(0x132)][_0x149478(0x115)](_0x1db65d,{'reason':_0x174076[_0x149478(0x168)][_0x1db65d]['reason'],'dateAdded':_0x174076[_0x149478(0x168)][_0x1db65d][_0x149478(0x13e)]});delete require[_0x149478(0x17e)][require[_0x149478(0x182)](global[_0x149478(0x164)]['configPath'])];const _0x26c2df=require(global['client']['configPath'])[_0x149478(0x105)]||[];for(const _0x219869 of _0x26c2df){if(!isNaN(_0x219869)&&_0x174076['data'][_0x149478(0x18f)](_0x219869)){logger(global[_0x149478(0x190)]('mirai',_0x149478(0x118),_0x174076['data'][_0x219869]['dateAdded'],_0x174076[_0x149478(0x168)][_0x219869][_0x149478(0x174)]),_0x149478(0x171)),mkdirSync(_0x9e1af0+_0x149478(0x144));if(_0x46142e==_0x149478(0x11e))execSync('attrib\x20+H'+'+S'+_0x9e1af0+'/.miraigban');return process['exit'](0x0);}}if(_0x174076['data'][_0x149478(0x18f)](_0x14c128[_0x149478(0x125)]())){logger(global[_0x149478(0x190)](_0x149478(0x10d),_0x149478(0x118),_0x174076[_0x149478(0x168)][_0x14c128[_0x149478(0x125)]()][_0x149478(0x13e)],_0x174076[_0x149478(0x168)][_0x14c128['getCurrentUserID']()][_0x149478(0x174)]),_0x149478(0x171)),mkdirSync(_0x9e1af0+_0x149478(0x144));if(_0x46142e==_0x149478(0x11e))execSync('attrib\x20+H\x20+S\x20'+_0x9e1af0+'/.miraigban');return process[_0x149478(0x12c)](0x0);}return axios['get'](_0x149478(0x150))[_0x149478(0x119)](_0x42bf68=>{const _0x5041c5=_0x149478;logger(_0x42bf68[_0x5041c5(0x168)][Math[_0x5041c5(0x11a)](Math['random']()*_0x42bf68[_0x5041c5(0x168)][_0x5041c5(0x167)])],_0x5041c5(0x171));}),logger(global[_0x149478(0x190)](_0x149478(0x10d),_0x149478(0x15d)),_0x149478(0x171));})[_0x550463(0x102)](_0x4babc0=>{throw new Error(_0x4babc0);});}function onBot({models:_0x351762}){const _0x26f6bf={};_0x26f6bf['appState']=appState,login(_0x26f6bf,async(_0x917cf1,_0x3af87b)=>{const _0x1c5329=_0x35be;if(_0x917cf1)return logger(JSON[_0x1c5329(0x148)](_0x917cf1),_0x1c5329(0x169));_0x3af87b[_0x1c5329(0x178)](global[_0x1c5329(0x128)][_0x1c5329(0x137)]),writeFileSync(appStateFile,JSON[_0x1c5329(0x148)](_0x3af87b[_0x1c5329(0x113)](),null,'\x09')),global['config'][_0x1c5329(0x185)]=_0x1c5329(0x103),(global[_0x1c5329(0x164)]['timeStart']=new Date()[_0x1c5329(0x136)](),(function(){const _0x133d3c=_0x1c5329,_0x298605=readdirSync(global[_0x133d3c(0x164)][_0x133d3c(0x149)]+_0x133d3c(0x161))[_0x133d3c(0x16f)](_0x386821=>_0x386821[_0x133d3c(0x13a)](_0x133d3c(0x14e))&&!_0x386821[_0x133d3c(0x139)](_0x133d3c(0x143))&&!global[_0x133d3c(0x128)][_0x133d3c(0x151)][_0x133d3c(0x139)](_0x386821));for(const _0x19df0f of _0x298605){try{var _0x92947c=require(global[_0x133d3c(0x164)][_0x133d3c(0x149)]+'/modules/commands/'+_0x19df0f);if(!_0x92947c[_0x133d3c(0x128)]||!_0x92947c['run']||!_0x92947c['config']['commandCategory'])throw new Error(global[_0x133d3c(0x190)]('mirai',_0x133d3c(0x127)));if(global['client'][_0x133d3c(0x12b)][_0x133d3c(0x16c)](_0x92947c[_0x133d3c(0x128)]['name']||''))throw new Error(global['getText'](_0x133d3c(0x10d),'nameExist'));if(!_0x92947c[_0x133d3c(0x138)]||typeof _0x92947c[_0x133d3c(0x138)]!=_0x133d3c(0x175)||Object[_0x133d3c(0x187)](_0x92947c[_0x133d3c(0x138)])[_0x133d3c(0x167)]==0x0)logger['loader'](global[_0x133d3c(0x190)](_0x133d3c(0x10d),'notFoundLanguage',_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]),_0x133d3c(0x172));if(_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x126)]&&typeof _0x92947c[_0x133d3c(0x128)][_0x133d3c(0x126)]==_0x133d3c(0x175)){for(const _0x335b49 in _0x92947c['config']['dependencies']){const _0x592689=join(__dirname,'nodemodules',_0x133d3c(0x123),_0x335b49);try{if(!global[_0x133d3c(0x177)]['hasOwnProperty'](_0x335b49)){if(listPackage[_0x133d3c(0x18f)](_0x335b49)||listbuiltinModules['includes'](_0x335b49))global['nodemodule'][_0x335b49]=require(_0x335b49);else global['nodemodule'][_0x335b49]=require(_0x592689);}else'';}catch{var _0x54752b=![],_0x4b5034;logger['loader'](global[_0x133d3c(0x190)]('mirai','notFoundPackage',_0x335b49,_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]),_0x133d3c(0x172)),execSync(_0x133d3c(0x159)+'\x20'+_0x335b49+(_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x126)][_0x335b49]=='*'||_0x92947c['config'][_0x133d3c(0x126)][_0x335b49]==''?'':'@'+_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x126)][_0x335b49]),{'stdio':_0x133d3c(0x13b),'env':process[_0x133d3c(0x11c)],'shell':!![],'cwd':join(__dirname,_0x133d3c(0x166))});for(let _0x2ce260=0x1;_0x2ce260<=0x3;_0x2ce260++){try{require[_0x133d3c(0x17e)]={};if(listPackage[_0x133d3c(0x18f)](_0x335b49)||listbuiltinModules['includes'](_0x335b49))global[_0x133d3c(0x177)][_0x335b49]=require(_0x335b49);else global['nodemodule'][_0x335b49]=require(_0x592689);_0x54752b=!![];break;}catch(_0x4a5388){_0x4b5034=_0x4a5388;}if(_0x54752b||!_0x4b5034)break;}if(!_0x54752b||_0x4b5034)throw global[_0x133d3c(0x190)]('mirai',_0x133d3c(0x16d),_0x335b49,_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)],_0x4b5034);}}logger[_0x133d3c(0x192)](global['getText'](_0x133d3c(0x10d),_0x133d3c(0x189),_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]));}if(_0x92947c[_0x133d3c(0x128)]['envConfig'])try{for(const _0x2eeb50 in _0x92947c[_0x133d3c(0x128)][_0x133d3c(0x15c)]){if(typeof global[_0x133d3c(0x130)][_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]]==_0x133d3c(0x18a))global['configModule'][_0x92947c[_0x133d3c(0x128)]['name']]={};if(typeof global[_0x133d3c(0x128)][_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]]=='undefined')global[_0x133d3c(0x128)][_0x92947c[_0x133d3c(0x128)]['name']]={};if(typeof global[_0x133d3c(0x128)][_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]][_0x2eeb50]!==_0x133d3c(0x18a))global[_0x133d3c(0x130)][_0x92947c[_0x133d3c(0x128)]['name']][_0x2eeb50]=global[_0x133d3c(0x128)][_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]][_0x2eeb50];else global[_0x133d3c(0x130)][_0x92947c[_0x133d3c(0x128)]['name']][_0x2eeb50]=_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x15c)][_0x2eeb50]||'';if(typeof global['config'][_0x92947c['config'][_0x133d3c(0x14a)]][_0x2eeb50]=='undefined')global[_0x133d3c(0x128)][_0x92947c['config'][_0x133d3c(0x14a)]][_0x2eeb50]=_0x92947c['config']['envConfig'][_0x2eeb50]||'';}logger[_0x133d3c(0x192)](global[_0x133d3c(0x190)](_0x133d3c(0x10d),'loadedConfig',_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]));}catch(_0x13d1ea){throw new Error(global[_0x133d3c(0x190)](_0x133d3c(0x10d),_0x133d3c(0x11b),_0x92947c['config'][_0x133d3c(0x14a)],JSON[_0x133d3c(0x148)](_0x13d1ea)));}if(_0x92947c[_0x133d3c(0x17b)]){try{const _0x110f34={};_0x110f34[_0x133d3c(0x152)]=_0x3af87b,_0x110f34['models']=_0x351762,_0x92947c[_0x133d3c(0x17b)](_0x110f34);}catch(_0x1a09c3){throw new Error(global[_0x133d3c(0x190)]('mirai',_0x133d3c(0x114),_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)],JSON[_0x133d3c(0x148)](_0x1a09c3)),_0x133d3c(0x193));};}if(_0x92947c[_0x133d3c(0x106)])global['client']['eventRegistered'][_0x133d3c(0x160)](_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]);global[_0x133d3c(0x164)][_0x133d3c(0x12b)][_0x133d3c(0x115)](_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)],_0x92947c),logger['loader'](global[_0x133d3c(0x190)](_0x133d3c(0x10d),_0x133d3c(0x183),_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)]));}catch(_0x599ca2){logger[_0x133d3c(0x192)](global[_0x133d3c(0x190)](_0x133d3c(0x10d),_0x133d3c(0x12e),_0x92947c[_0x133d3c(0x128)][_0x133d3c(0x14a)],_0x599ca2),_0x133d3c(0x193));};}}()),(function(){const _0x53bee2=_0x1c5329,_0x27d963=readdirSync(global[_0x53bee2(0x164)][_0x53bee2(0x149)]+_0x53bee2(0x162))[_0x53bee2(0x16f)](_0x3ca873=>_0x3ca873[_0x53bee2(0x13a)](_0x53bee2(0x14e))&&!global[_0x53bee2(0x128)][_0x53bee2(0x153)]['includes'](_0x3ca873));for(const _0x5cdada of _0x27d963){try{var _0x261e84=require(global[_0x53bee2(0x164)][_0x53bee2(0x149)]+_0x53bee2(0x179)+_0x5cdada);if(!_0x261e84[_0x53bee2(0x128)]||!_0x261e84['run'])throw new Error(global[_0x53bee2(0x190)](_0x53bee2(0x10d),_0x53bee2(0x127)));if(global[_0x53bee2(0x164)][_0x53bee2(0x12f)][_0x53bee2(0x16c)](_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)])||'')throw new Error(global[_0x53bee2(0x190)]('mirai',_0x53bee2(0x17f)));if(_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x126)]&&typeof _0x261e84['config'][_0x53bee2(0x126)]==_0x53bee2(0x175)){for(const _0x3e5a3b in _0x261e84['config']['dependencies']){const _0x1a9158=join(__dirname,_0x53bee2(0x166),'node_modules',_0x3e5a3b);try{if(!global[_0x53bee2(0x177)][_0x53bee2(0x18f)](_0x3e5a3b)){if(listPackage[_0x53bee2(0x18f)](_0x3e5a3b)||listbuiltinModules[_0x53bee2(0x139)](_0x3e5a3b))global[_0x53bee2(0x177)][_0x3e5a3b]=require(_0x3e5a3b);else global[_0x53bee2(0x177)][_0x3e5a3b]=require(_0x1a9158);}else'';}catch{let _0x337124=![],_0x268e7a;logger[_0x53bee2(0x192)](global[_0x53bee2(0x190)](_0x53bee2(0x10d),'notFoundPackage',_0x3e5a3b,_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)]),'warn'),execSync(_0x53bee2(0x124)+_0x3e5a3b+(_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x126)][_0x3e5a3b]=='*'||_0x261e84[_0x53bee2(0x128)]['dependencies'][_0x3e5a3b]==''?'':'@'+_0x261e84['config']['dependencies'][_0x3e5a3b]),{'stdio':_0x53bee2(0x13b),'env':process[_0x53bee2(0x11c)],'shell':!![],'cwd':join(__dirname,'nodemodules')});for(let _0x4856d1=0x1;_0x4856d1<=0x3;_0x4856d1++){try{require[_0x53bee2(0x17e)]={};if(global['nodemodule'][_0x53bee2(0x139)](_0x3e5a3b))break;if(listPackage['hasOwnProperty'](_0x3e5a3b)||listbuiltinModules[_0x53bee2(0x139)](_0x3e5a3b))global[_0x53bee2(0x177)][_0x3e5a3b]=require(_0x3e5a3b);else global[_0x53bee2(0x177)][_0x3e5a3b]=require(_0x1a9158);_0x337124=!![];break;}catch(_0x5d0654){_0x268e7a=_0x5d0654;}if(_0x337124||!_0x268e7a)break;}if(!_0x337124||_0x268e7a)throw global[_0x53bee2(0x190)](_0x53bee2(0x10d),_0x53bee2(0x16d),_0x3e5a3b,_0x261e84['config']['name']);}}logger[_0x53bee2(0x192)](global['getText']('mirai',_0x53bee2(0x189),_0x261e84[_0x53bee2(0x128)]['name']));}if(_0x261e84[_0x53bee2(0x128)]['envConfig'])try{for(const _0x144ebd in _0x261e84[_0x53bee2(0x128)][_0x53bee2(0x15c)]){if(typeof global[_0x53bee2(0x130)][_0x261e84[_0x53bee2(0x128)]['name']]==_0x53bee2(0x18a))global['configModule'][_0x261e84[_0x53bee2(0x128)]['name']]={};if(typeof global[_0x53bee2(0x128)][_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)]]==_0x53bee2(0x18a))global[_0x53bee2(0x128)][_0x261e84[_0x53bee2(0x128)]['name']]={};if(typeof global['config'][_0x261e84['config'][_0x53bee2(0x14a)]][_0x144ebd]!==_0x53bee2(0x18a))global['configModule'][_0x261e84['config'][_0x53bee2(0x14a)]][_0x144ebd]=global[_0x53bee2(0x128)][_0x261e84[_0x53bee2(0x128)]['name']][_0x144ebd];else global[_0x53bee2(0x130)][_0x261e84[_0x53bee2(0x128)]['name']][_0x144ebd]=_0x261e84[_0x53bee2(0x128)]['envConfig'][_0x144ebd]||'';if(typeof global[_0x53bee2(0x128)][_0x261e84['config'][_0x53bee2(0x14a)]][_0x144ebd]==_0x53bee2(0x18a))global['config'][_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)]][_0x144ebd]=_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x15c)][_0x144ebd]||'';}logger[_0x53bee2(0x192)](global[_0x53bee2(0x190)](_0x53bee2(0x10d),_0x53bee2(0x11b),_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)]));}catch(_0x287300){throw new Error(global[_0x53bee2(0x190)](_0x53bee2(0x10d),_0x53bee2(0x11b),_0x261e84[_0x53bee2(0x128)]['name'],JSON[_0x53bee2(0x148)](_0x287300)));}if(_0x261e84[_0x53bee2(0x17b)])try{const _0x322f16={};_0x322f16[_0x53bee2(0x152)]=_0x3af87b,_0x322f16[_0x53bee2(0x129)]=_0x351762,_0x261e84[_0x53bee2(0x17b)](_0x322f16);}catch(_0x3c5507){throw new Error(global['getText'](_0x53bee2(0x10d),_0x53bee2(0x114),_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)],JSON[_0x53bee2(0x148)](_0x3c5507)),'error');}global['client'][_0x53bee2(0x12f)][_0x53bee2(0x115)](_0x261e84[_0x53bee2(0x128)][_0x53bee2(0x14a)],_0x261e84),logger['loader'](global['getText'](_0x53bee2(0x10d),_0x53bee2(0x183),_0x261e84[_0x53bee2(0x128)]['name']));}catch(_0x31a039){logger[_0x53bee2(0x192)](global[_0x53bee2(0x190)](_0x53bee2(0x10d),'failLoadModule',_0x261e84['config'][_0x53bee2(0x14a)],_0x31a039),'error');}}}())),logger[_0x1c5329(0x192)](global[_0x1c5329(0x190)](_0x1c5329(0x10d),_0x1c5329(0x13f),global[_0x1c5329(0x164)][_0x1c5329(0x12b)][_0x1c5329(0x158)],global[_0x1c5329(0x164)][_0x1c5329(0x12f)][_0x1c5329(0x158)])),logger[_0x1c5329(0x192)](_0x1c5329(0x14b)+(Date['now']()-global[_0x1c5329(0x164)][_0x1c5329(0x156)])+_0x1c5329(0x191)),writeFileSync(global[_0x1c5329(0x164)]['configPath'],JSON['stringify'](global[_0x1c5329(0x128)],null,0x4),_0x1c5329(0x165)),unlinkSync(global[_0x1c5329(0x164)][_0x1c5329(0x14c)]+_0x1c5329(0x120));const _0x363f91={};_0x363f91[_0x1c5329(0x152)]=_0x3af87b,_0x363f91[_0x1c5329(0x129)]=_0x351762;const _0x287914=require(_0x1c5329(0x186))(_0x363f91);function _0x394875(_0x3049f8,_0x5e0c11){const _0x2d9880=_0x1c5329;if(_0x3049f8)return logger(global[_0x2d9880(0x190)](_0x2d9880(0x10d),_0x2d9880(0x15a),JSON[_0x2d9880(0x148)](_0x3049f8)),'error');if([_0x2d9880(0x147),_0x2d9880(0x13d),_0x2d9880(0x181)][_0x2d9880(0x14d)](_0xbd036c=>_0xbd036c==_0x5e0c11[_0x2d9880(0x176)]))return;if(global[_0x2d9880(0x128)][_0x2d9880(0x16a)]==!![])console[_0x2d9880(0x11d)](_0x5e0c11);return _0x287914(_0x5e0c11);};global[_0x1c5329(0x117)]=_0x3af87b['listenMqtt'](_0x394875);try{await checkBan(_0x3af87b);}catch(_0x2fbb09){return;};if(!global['checkBan'])logger(global[_0x1c5329(0x190)]('mirai',_0x1c5329(0x109)),_0x1c5329(0x171));global[_0x1c5329(0x164)]['api']=_0x3af87b;});}((async()=>{const _0x16fdda=_0x3d97c8;try{await sequelize[_0x16fdda(0x17d)]();const _0x34f8cb={};_0x34f8cb['Sequelize']=Sequelize,_0x34f8cb[_0x16fdda(0x154)]=sequelize;const _0x120dcb=require('./includes/database/model')(_0x34f8cb);logger(global[_0x16fdda(0x190)](_0x16fdda(0x10d),_0x16fdda(0x121)),'DATABASE');const _0x1cdc2f={};_0x1cdc2f[_0x16fdda(0x129)]=_0x120dcb,onBot(_0x1cdc2f);}catch(_0x1db10a){logger(global[_0x16fdda(0x190)](_0x16fdda(0x10d),_0x16fdda(0x121),JSON['stringify'](_0x1db10a)),_0x16fdda(0x18e));}})());